<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç•™è¨€æ¿ - FL | å…±å‰µè¨è«–</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="FLç¶²ç«™çš„ç•™è¨€æ¿ï¼Œè®“ç¤¾ç¾¤åƒèˆ‡è¨è«–ï¼Œåˆ†äº«åé¥‹èˆ‡å»ºè­°ã€‚">
    <meta name="keywords" content="ç•™è¨€æ¿, è¨è«–å€, åé¥‹, ç¤¾ç¾¤, FL, Free Life">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        green: {
                            50: '#f0fdf4',
                            100: '#dcfce7',
                            200: '#bbf7d0',
                            300: '#86efac',
                            400: '#4ade80',
                            500: '#22c55e',
                            600: '#16a34a',
                            700: '#15803d',
                            800: '#166534',
                            900: '#14532d',
                        }
                    }
                }
            }
        }
    </script>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        @keyframes grow { from { transform: scale(0.98); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        .animate-grow { animation: grow 0.8s ease-out; }
    </style>
</head>
<body class="bg-gray-50 font-sans text-gray-800 transition-colors duration-300 dark:bg-gray-900 dark:text-gray-100">

    <!-- Navigation -->
    <nav class="bg-green-700 text-white p-4 shadow-md fixed w-full top-0 z-50 dark:bg-green-900">
        <div class="container mx-auto flex justify-between items-center">
            <h1 class="text-2xl font-bold tracking-wider">FL</h1>
            <ul class="flex space-x-6 items-center">
                <li><a href="index.html" class="hover:text-green-200 transition">é¦–é </a></li>
                <li><a href="build_log.html" class="hover:text-green-200 transition">å»ºé€ ç´€éŒ„</a></li>
                <li><a href="vote.html" class="hover:text-green-200 transition">æŠ•ç¥¨</a></li>
                <li><a href="message_board.html" class="hover:text-green-200 transition border-b-2 border-white">ç•™è¨€æ¿</a></li>
                <li>
                    <button onclick="toggleDarkMode()" class="p-2 rounded-full hover:bg-green-600 transition">
                        <i class="fas fa-moon dark:hidden"></i>
                        <i class="fas fa-sun hidden dark:inline"></i>
                    </button>
                </li>
            </ul>
        </div>
    </nav>

    <!-- Header -->
    <header class="text-center pt-32 pb-12 bg-gradient-to-b from-green-100 to-gray-50 px-4 animate-grow dark:from-green-900 dark:to-gray-900">
        <div class="max-w-4xl mx-auto">
            <h1 class="text-4xl font-bold text-green-800 mb-4 dark:text-green-400">ç•™è¨€æ¿</h1>
            <p class="text-lg text-gray-600 dark:text-gray-300">é€™è£¡æ˜¯ä¸€å€‹é–‹æ”¾çš„ç©ºé–“ï¼Œæ­¡è¿åˆ†äº«ä½ çš„å»ºè­°ã€å›å ±å•é¡Œæˆ–å–®ç´”èŠèŠã€‚</p>
        </div>
    </header>

    <!-- Message Board Section -->
    <section class="max-w-3xl mx-auto py-8 px-4 animate-grow" style="animation-delay: 0.2s;">
        
        <!-- Comment Form -->
        <div class="bg-white p-6 rounded-xl shadow-md mb-10 border-t-4 border-green-500 dark:bg-gray-800 dark:border-green-400">
            <h2 class="text-2xl font-bold text-gray-800 mb-4 flex items-center dark:text-gray-100">
                <i class="fas fa-comment-dots text-green-600 mr-3 dark:text-green-400"></i> ç•™ä¸‹ä½ çš„è²éŸ³
            </h2>
            <form id="comment-form" class="space-y-4">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <input id="comment-name" type="text" class="p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white" placeholder="æš±ç¨± (é¸å¡«)">
                    <select id="comment-tag" class="p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                        <option value="å»ºè­°">ğŸ’¡ å»ºè­°</option>
                        <option value="å•é¡Œ">ğŸ› å•é¡Œå›å ±</option>
                        <option value="é–’èŠ">â˜• é–’èŠ</option>
                        <option value="é¼“å‹µ">â¤ï¸ é¼“å‹µ</option>
                    </select>
                </div>
                <textarea id="comment-text" rows="3" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white" placeholder="æƒ³èªªäº›ä»€éº¼ï¼Ÿ" required></textarea>
                <button type="submit" class="w-full bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition font-bold shadow-sm dark:bg-green-500 dark:hover:bg-green-600">
                    ç™¼å¸ƒç•™è¨€
                </button>
            </form>
        </div>

        <!-- Comments List -->
        <div class="space-y-6" id="comments-container">
            <!-- Comments will be injected here -->
            <div class="text-center py-8 text-gray-500 dark:text-gray-400">
                <i class="fas fa-spinner fa-spin mr-2"></i> è¼‰å…¥ç•™è¨€ä¸­...
            </div>
        </div>

    </section>

    <!-- Footer -->
    <footer class="bg-gray-800 text-gray-400 text-center py-8 mt-12 dark:bg-gray-950">
        <div class="container mx-auto px-4">
            <div class="mb-4">
                <span class="inline-block bg-gray-700 px-3 py-1 rounded-full text-sm">ğŸš§ ç¶²ç«™æŒçºŒé€²åŒ–ä¸­ | This site is evolving</span>
            </div>
            <p class="mb-2 text-sm">
                <a href="origin.html" class="hover:text-white transition underline">ç‚ºä»€éº¼æœƒæœ‰é€™å€‹ç¶²ç«™ï¼Ÿ</a>
            </p>
            <p class="text-xs">&copy; 2024 FL. Last updated: 2026-01-05</p>
        </div>
    </footer>

    <!-- JavaScript for Comment Logic -->
    <script>
        // Dark Mode Logic (Shared)
        function toggleDarkMode() {
            document.documentElement.classList.toggle('dark');
            localStorage.setItem('fl-theme', document.documentElement.classList.contains('dark') ? 'dark' : 'light');
        }
        if (localStorage.getItem('fl-theme') === 'dark' || (!('fl-theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark');
        }

        // Sample Comments
        const defaultComments = [
            { id: 1, name: 'FL_Admin', tag: 'é¼“å‹µ', text: 'æ­¡è¿ä¾†åˆ°ç•™è¨€æ¿ï¼è«‹è‡ªç”±åˆ†äº«ä½ çš„æƒ³æ³•ã€‚', timestamp: Date.now() },
            { id: 2, name: 'Visitor_001', tag: 'å»ºè­°', text: 'å¸Œæœ›èƒ½å¢åŠ æ›´å¤šé—œæ–¼å€‹äººæˆé•·çš„æ–‡ç« åˆ†é¡ã€‚', timestamp: Date.now() - 3600000 }
        ];

        // Load Comments
        let comments = JSON.parse(localStorage.getItem('fl-comments'));
        if (!comments || comments.length === 0) {
            comments = defaultComments;
            localStorage.setItem('fl-comments', JSON.stringify(comments));
        }

        // Add Comment
        function addComment(name, tag, text) {
            const newComment = {
                id: Date.now(),
                name: name || 'åŒ¿åè¨ªå®¢',
                tag: tag,
                text: text,
                timestamp: Date.now()
            };
            comments.unshift(newComment); // Add to top
            saveAndRenderComments();
        }

        // Save & Render
        function saveAndRenderComments() {
            localStorage.setItem('fl-comments', JSON.stringify(comments));
            renderComments();
        }

        // Format Date
        function formatDate(timestamp) {
            const date = new Date(timestamp);
            return date.toLocaleDateString() + ' ' + date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
        }

        // Get Tag Color
        function getTagColor(tag) {
            switch(tag) {
                case 'å»ºè­°': return 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200';
                case 'å•é¡Œ': return 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200';
                case 'é–’èŠ': return 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200';
                case 'é¼“å‹µ': return 'bg-pink-100 text-pink-800 dark:bg-pink-900 dark:text-pink-200';
                default: return 'bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200';
            }
        }

        // Render
        function renderComments() {
            const container = document.getElementById('comments-container');
            container.innerHTML = '';

            if (comments.length === 0) {
                container.innerHTML = '<p class="text-center text-gray-500 py-4 dark:text-gray-400">æš«ç„¡ç•™è¨€ï¼Œæˆç‚ºç¬¬ä¸€å€‹ç™¼è¨€çš„äººå§ï¼</p>';
                return;
            }

            comments.forEach(comment => {
                const div = document.createElement('div');
                div.className = 'bg-white p-6 rounded-xl shadow-sm border border-gray-100 dark:bg-gray-800 dark:border-gray-700';
                div.innerHTML = `
                    <div class="flex justify-between items-start mb-3">
                        <div class="flex items-center gap-3">
                            <div class="w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center text-gray-500 dark:bg-gray-700 dark:text-gray-300">
                                <i class="fas fa-user"></i>
                            </div>
                            <div>
                                <h4 class="font-bold text-gray-800 dark:text-gray-200">${comment.name}</h4>
                                <span class="text-xs text-gray-400">${formatDate(comment.timestamp)}</span>
                            </div>
                        </div>
                        <span class="text-xs px-2 py-1 rounded-full ${getTagColor(comment.tag)}">${comment.tag}</span>
                    </div>
                    <p class="text-gray-700 leading-relaxed dark:text-gray-300 pl-13 ml-13 md:pl-0 md:ml-13">${comment.text}</p>
                `;
                container.appendChild(div);
            });
        }

        // Event Listener
        document.getElementById('comment-form').addEventListener('submit', (e) => {
            e.preventDefault();
            const name = document.getElementById('comment-name').value;
            const tag = document.getElementById('comment-tag').value;
            const text = document.getElementById('comment-text').value;
            
            addComment(name, tag, text);
            document.getElementById('comment-text').value = ''; // Clear text only
        });

        // Init
        renderComments();
    </script>
</body>
</html>
